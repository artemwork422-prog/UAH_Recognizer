"""
ÐÐÐÐ›Ð†Ð— ÐŸÐ ÐžÒÐ ÐÐœÐ£ Ð—Ð† Ð’Ð†Ð”ÐžÐœÐžÐ¡Ð¢Ð¯ÐœÐ˜ ÐŸÐ Ðž ÐŸÐ ÐžÐ‘Ð›Ð•ÐœÐ˜
Created: February 19, 2026

================================================================
ÐžÐ‘ÐÐÐ Ð£Ð–Ð•ÐÐ† ÐšÐ Ð˜Ð¢Ð˜Ð§ÐÐ† ÐŸÐ ÐžÐ‘Ð›Ð•ÐœÐ˜ Ð’ ÐžÐ Ð˜Ð“Ð†ÐÐÐ›Ð¬ÐÐžÐœÐ£ ÐšÐžÐ”Ð†
================================================================

1. Ð’Ð˜Ð¢ÐžÐšÐ£ ÐŸÐÐœ'Ð¯Ð¢Ð† (Memory Leak):
   âŒ ÐŸÐ ÐžÐ‘Ð›Ð•ÐœÐ:
      static uint8_t* rgb_buffer = NULL;
      rgb_buffer = (uint8_t*)ps_malloc(320 * 240 * 3);
      // ÐÐ†ÐšÐžÐ›Ð˜ ÐÐ• Ð—Ð’Ð†Ð›Ð¬ÐÐ¯Ð„Ð¢Ð¬Ð¡Ð¯! 
      
   âœ… Ð Ð†Ð¨Ð•ÐÐÐ¯:
      if (rgb_buffer) {
          free(rgb_buffer);
          rgb_buffer = NULL;
      }
      // Ð—Ð²Ñ–Ð»ÑŒÐ½ÑÑ”Ñ‚ÑŒÑÑ Ð¾Ð´Ñ€Ð°Ð·Ñƒ Ð¿Ñ–ÑÐ»Ñ inference

   ðŸ’¾ Ð’ÐŸÐ›Ð˜Ð’: 230KB Ð²Ñ‚Ñ€Ð°Ñ‡Ð°Ñ”Ñ‚ÑŒÑÑ Ð· ÐºÐ¾Ð¶Ð½Ð¸Ð¼ ÑÐºÐ°Ð½ÐµÑˆÐ½ÑÑ”Ð¼ (2MB -> 1.77MB -> 1.54MB...)

2. INFINITE LOOP Ð£ STREAM HANDLER:
   âŒ ÐžÐ Ð˜Ð“Ð†ÐÐÐ›:
      esp_err_t stream_handler(httpd_req_t *req) {
          ...
          while(true) {  // â† Ð¦Ð˜ÐšÐ› ÐÐ†ÐšÐžÐ›Ð˜ ÐÐ• Ð—ÐÐ’Ð•Ð Ð¨Ð£Ð„Ð¢Ð¬Ð¡Ð¯!
              fb = esp_camera_fb_get();
              ...
          }
      }
      
   âœ… Ð Ð†Ð¨Ð•ÐÐÐ¯:
      //ç§»é™¤while(true), Ð·Ð°Ð¼Ñ–Ð½ÐµÐ½Ð¾ Ð½Ð° single frame return
      // Ð”Ð¾Ð·Ð²Ð¾Ð»ÑÑ” Ð¾Ð±ÑÐ»ÑƒÐ³Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ Ñ–Ð½ÑˆÑ– HTTP Ð·Ð°Ð¿Ð¸Ñ‚Ð¸

   âš ï¸ Ð’ÐŸÐ›Ð˜Ð’: Ð’ÐµÐ±-ÑÐµÑ€Ð²ÐµÑ€ Ð±Ð»Ð¾ÐºÑƒÑ”Ñ‚ÑŒÑÑ, Ð½ÐµÐ¼Ð¾Ð¶Ð½Ð° Ð¾Ð±Ñ€Ð¾Ð±Ð»ÑÑ‚Ð¸ Ñ–Ð½ÑˆÑ– Ð·Ð°Ð¿Ð¸Ñ‚Ð¸

3. RACE CONDITIONS:
   âŒ ÐŸÐ ÐžÐ‘Ð›Ð•ÐœÐ:
      // stream_handler Ð²Ð¸ÐºÐ»Ð¸ÐºÐ°Ñ” runInference()
      // main() loop Ñ‚Ð°ÐºÐ¾Ð¶ Ð²Ð¸ÐºÐ»Ð¸ÐºÐ°Ñ” runInference()
      // ÐžÐ´Ð½Ð¾Ñ‡Ð°ÑÐ½Ð¾ Ð¼Ð¾Ð¶ÑƒÑ‚ÑŒ ÑÑ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ Ð´Ð²Ð° RGB Ð±ÑƒÑ„ÐµÑ€Ð°!
      
   âœ… Ð Ð†Ð¨Ð•ÐÐÐ¯:
      SemaphoreHandle_t camera_mutex = xSemaphoreCreateMutex();
      xSemaphoreTake(camera_mutex, pdMS_TO_TICKS(500));
      // ... critical section ...
      xSemaphoreGive(camera_mutex);

4. ÐÐ•ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐ• MJPEG Ð¤ÐžÐ ÐœÐÐ¢Ð£Ð’ÐÐÐÐ¯:
   âŒ ÐžÐ Ð˜Ð“Ð†ÐÐÐ›:
      httpd_resp_send_chunk(req, (const char *)fb->buf, fb->len);
      // ÐŸÑ€Ð¾ÑÑ‚Ð¾ ÑˆÐ»Ñ” raw Ð´Ð°Ð½Ñ–, Ð±ÐµÐ· boundary Ð¼Ð°Ñ€ÐºÐµÑ€Ñ–Ð²!
      
   âœ… Ð Ð†Ð¨Ð•ÐÐÐ¯:
      // Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– boundary Ð¼Ð°Ñ€ÐºÐµÑ€Ð¸:
      --frame\r\n
      Content-Type: image/jpeg\r\n
      Content-Length: SIZE\r\n\r\n
      [FRAME DATA]

5. ÐÐ•Ð’Ð†Ð ÐÐ JPEG Ð¯ÐšÐ†Ð¡Ð¢Ð¬:
   âŒ ÐžÐ Ð˜Ð“Ð†ÐÐÐ›:
      config.jpeg_quality = 8;
      // Ð¦Ðµ 8-15, Ð´Ðµ 8 = Ð½Ð°Ð¹Ð²Ð¸Ñ‰Ð° ÑÐºÑ–ÑÑ‚ÑŒ = Ð½Ð°Ð¹Ð±Ñ–Ð»ÑŒÑˆÐ¸Ð¹ Ñ€Ð¾Ð·Ð¼Ñ–Ñ€ (~50KB/frame)
      
   âœ… Ð Ð†Ð¨Ð•ÐÐÐ¯:
      config.jpeg_quality = 10;
      // Ð–Ð¾Ð´Ð½Ð° ÑÐºÑ–ÑÑ‚ÑŒ, Ð¼ÐµÐ½ÑˆÐ¸Ð¹ Ñ€Ð¾Ð·Ð¼Ñ–Ñ€ (~20-30KB/frame)

================================================================
ÐÐ Ð¥Ð†Ð¢Ð•ÐšÐ¢Ð£Ð ÐÐ† ÐŸÐžÐšÐ ÐÐ©Ð•ÐÐÐ¯
================================================================

ÐžÐ Ð˜Ð“Ð†ÐÐÐ›Ð¬ÐÐ ÐÐ Ð¥Ð†Ð¢Ð•ÐšÐ¢Ð£Ð Ð (ÐÐ•ÐŸÐ ÐÐ’Ð˜Ð›Ð¬ÐÐ):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  loop() thread              â”‚
â”‚  - ÐžÑ‡Ñ–ÐºÑƒÑ” Ð½Ð° GPIO           â”‚
â”‚  - Ð’Ð¸ÐºÐ»Ð¸ÐºÐ°Ñ” runInference()  â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  stream_handler()           â”‚
â”‚  while(true) {              â”‚
â”‚   - Ð‘Ð»Ð¾ÐºÑƒÑ” ÑÐµÑ€Ð²ÐµÑ€           â”‚
â”‚   - Ð¢Ð°ÐºÐ¾Ð¶ Ð²Ð¸ÐºÐ»Ð¸ÐºÐ°Ñ”          â”‚
â”‚     runInference()          â”‚
â”‚  }                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ÐÐžÐ’Ð ÐÐ Ð¥Ð†Ð¢Ð•ÐšÐ¢Ð£Ð Ð (ÐžÐŸÐ¢Ð˜ÐœÐ†Ð—ÐÐ¦Ð†Ð™ÐÐ):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  loop() thread              â”‚
â”‚  - ÐžÑ‡Ñ–ÐºÑƒÑ” Ð½Ð° GPIO           â”‚
â”‚  - scan_request = true      â”‚
â”‚  - Ð’Ð¸ÐºÐ»Ð¸ÐºÐ°Ñ” runInference()  â”‚
â”‚  - Ð—Ð²Ñ–Ð»ÑŒÐ½ÑÑ” RGB Ð±ÑƒÑ„ÐµÑ€       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Web Server (Non-blocking)  â”‚
â”‚  - ÐŸÐ¾Ð²ÐµÑ€Ñ‚Ð°Ñ” Ð¾Ð´Ð¸Ð½ frame      â”‚
â”‚  - ÐžÐ±ÑÐ»ÑƒÐ³Ð¾Ð²ÑƒÑ” Ñ–Ð½ÑˆÑ– Ð·Ð°Ð¿Ð¸Ñ‚Ð¸   â”‚
â”‚  - Ð¡Ð¸Ð³Ð½Ð°Ð»Ñ–Ð·ÑƒÑ” GPIO          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Routes:                    â”‚
â”‚  GET /    â†’ HTML            â”‚
â”‚  GET /stream â†’ MJPEG        â”‚
â”‚  GET /scan â†’ send signal    â”‚
â”‚  GET /status â†’ JSON         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================
Ð“Ð›ÐžÐ‘ÐÐ›Ð¬ÐÐ† Ð—ÐœÐ†ÐÐÐ† Ð”Ð›Ð¯ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐ†Ð—ÐÐ¦Ð†Ð‡
================================================================

String global_result = "Ready";            // Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ AI
volatile bool scan_request = false;        // Ð¡Ð¸Ð³Ð½Ð°Ð» Ð´Ð»Ñ ÑÐºÐ°Ð½ÑƒÐ²Ð°Ð½Ð½Ñ  
SemaphoreHandle_t camera_mutex = NULL;     // FreeRTOS mutex
camera_fb_t* last_frame = NULL;            // ÐžÑÑ‚Ð°Ð½Ð½Ñ–Ð¹ frame

================================================================
ÐžÐŸÐ¢Ð˜ÐœÐ†Ð—ÐÐ¦Ð†Ð¯ ÐŸÐÐœ'Ð¯Ð¢Ð†
================================================================

Ð ÐžÐ—ÐŸÐžÐ”Ð†Ð› 2MB PSRAM:

Ð¡Ñ‚Ð°Ñ‚Ð¸Ñ‡Ð½Ñ– Ð±ÑƒÑ„ÐµÑ€Ð¸ (Ð·Ð°Ð²Ð¶Ð´Ð¸ Ð² Ð¿Ð°Ð¼'ÑÑ‚Ñ–):
â”œâ”€ ÐšÐ°Ð¼ÐµÑ€Ð° Ð±ÑƒÑ„ÐµÑ€ 1: 48KB (JPEG)
â”œâ”€ ÐšÐ°Ð¼ÐµÑ€Ð° Ð±ÑƒÑ„ÐµÑ€ 2: 48KB (JPEG)
â”œâ”€ Ð†Ð½ÑˆÑ– ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ– Ð±ÑƒÑ„ÐµÑ€Ð¸: ~100KB
â””â”€ Ð’Ñ–Ð»ÑŒÐ½Ð¾: 1.804MB

Ð¢Ð¸Ð¼Ñ‡Ð°ÑÐ¾Ð²Ñ– Ð±ÑƒÑ„ÐµÑ€Ð¸ (Ð¿Ñ–Ð´ Ñ‡Ð°Ñ inference):
â”œâ”€ RGB Ð±ÑƒÑ„ÐµÑ€: 230KB (320Ã—240Ã—3)
â””â”€ Edge Impulse Ñ€Ð¾Ð±Ð¾Ñ‡Ñ– Ð±ÑƒÑ„ÐµÑ€Ð¸: Ð·Ð°Ð»ÐµÐ¶Ð¸Ñ‚ÑŒ Ð²Ñ–Ð´ Ð¼Ð¾Ð´ÐµÐ»Ñ–

ÐžÐŸÐ¢Ð˜ÐœÐ†Ð—ÐÐ¦Ð†Ð¯:
- Ð—Ð¼ÐµÐ½ÑˆÐµÐ½Ð° ÑÐºÑ–ÑÑ‚ÑŒ JPEG Ð· 8â†’10 (Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ Ð±Ñ–Ð»ÑŒÑˆÐµ ÑÑ‚Ð¸ÑÐºÑƒ)
- RGB Ð±ÑƒÑ„ÐµÑ€ Ð·Ð²Ñ–Ð»ÑŒÐ½ÑÑ”Ñ‚ÑŒÑÑ Ð¾Ð´Ñ€Ð°Ð·Ñƒ Ð¿Ñ–ÑÐ»Ñ inference
- ÐÐµÐ¼Ð° infinite loops ÑÐºÑ– Ñ‚Ñ€Ð¸Ð¼Ð°Ð½ Ð¿Ð°Ð¼'ÑÑ‚ÑŒ

Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢:
- Ð”Ð¾ Ð¾Ð¿Ñ‚Ð¸Ð¼Ñ–Ð·Ð°Ñ†Ñ–Ñ—: Ð²Ð¸Ñ‚Ñ–Ðº 230KB Ð·Ð° ÑÐºÐ°Ð½ÑƒÐ²Ð°Ð½Ð½Ñ
- ÐŸÑ–ÑÐ»Ñ Ð¾Ð¿Ñ‚Ð¸Ð¼Ñ–Ð·Ð°Ñ†Ñ–Ñ—: Ð²Ñ–Ð»ÑŒÐ½Ð° Ð¿Ð°Ð¼'ÑÑ‚ÑŒ Ð·Ð°Ð»Ð¸ÑˆÐ°Ñ”Ñ‚ÑŒÑÑ ÑÑ‚Ð°Ð±Ñ–Ð»ÑŒÐ½Ð¾ÑŽ

================================================================
Ð’Ð•Ð©Ð•Ð¡Ð¢Ð’-Ð†ÐÐ¢Ð•Ð Ð¤Ð•Ð™Ð¡ (HTML/CSS/JS)
================================================================

ÐÐ¾Ð²Ñ– Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ÑÑ‚Ñ–:
âœ… ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ð¸Ð¹ Ð´Ð¸Ð·Ð°Ð¹Ð½ Ð´Ð»Ñ Ð¼Ð¾Ð±Ñ–Ð»ÑŒÐ½Ð¸Ñ…
âœ… Ð ÐµÐ°Ð»-Ñ‚Ð°Ð¹Ð¼ Ð¿Ð¾Ñ‚Ð¾ÐºÐ¾Ð²Ð° Ñ‚Ñ€Ð°Ð½ÑÐ»ÑÑ†Ñ–Ñ
âœ… ÐšÑ€Ð°ÑÐ¸Ð²Ð¸Ð¹ gradient UI
âœ… Animation Ð´Ð»Ñ ÑÑ‚Ð°Ñ‚ÑƒÑÑƒ ÑÐºÐ°Ð½ÑƒÐ²Ð°Ð½Ð½Ñ
âœ… JSON ÑÑ‚Ð°Ñ‚ÑƒÑ API
âœ… FPS Ð»Ñ–Ñ‡Ð¸Ð»ÑŒÐ½Ð¸Ðº

Ð¦Ð²ÐµÑ‚Ð¸:
- Ð¤Ð¾Ð½: Ð¢ÐµÐ¼Ð½Ð¸Ð¹ ÑÐ¸Ð½Ñ–Ð¹ Ð³Ñ€Ð°Ð´Ñ–Ñ”Ð½Ñ‚ (#1e3c72 â†’ #2a5298)
- ÐžÑÐ½Ð¾Ð²Ð½Ñ– ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¸: Ð—Ð¾Ð»Ð¾Ñ‚Ð¸ÑÑ‚Ð¸Ð¹ (#ffd700)
- Ð¢ÐµÐºÑÑ‚: Ð‘Ñ–Ð»Ð¸Ð¹ + ÑÑ–Ñ€Ð¸Ð¹ Ð´Ð»Ñ Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹

================================================================
ÐŸÐžÐ Ð¯Ð”ÐžÐš Ð’Ð˜ÐšÐžÐÐÐÐÐ¯ ÐŸÐ Ð˜ ÐÐÐ¢Ð˜Ð¡ÐÐ•ÐÐÐ† "SCAN"
================================================================

1. Web UI â†’ fetch('/scan')
   
2. stream_handler() â†’ GET /scan:
   scan_request = true;
   return OK
   
3. main() loop Ð¿Ð¾Ð»Ñ–Ð¿ÑˆÑƒÑ”:
   if (scan_request) {
       scan_request = false
       
4. ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ mutex:
   xSemaphoreTake(camera_mutex, timeout)
   
5. ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ frame Ð· ÐºÐ°Ð¼ÐµÑ€Ð¸:
   fb = esp_camera_fb_get()
   
6. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ð¸ inference:
   runInference(fb) {
       Allocate RGB buffer in PSRAM
       Decode JPEG â†’ RGB888
       Run Edge Impulse classifier
       Free RGB buffer â† ÐšÐ Ð˜Ð¢Ð˜Ð§ÐÐž!
       Return "5 UAH (87%)"
   }
   
7. ÐŸÐ¾Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¸ frame:
   esp_camera_fb_return(fb)
   
8. Ð—Ð²Ñ–Ð»ÑŒÐ½Ð¸Ñ‚Ð¸ mutex:
   xSemaphoreGive(camera_mutex)
   
9. Web UI Ð¾Ð¿Ð¸Ñ‚ÑƒÑ” /status ÐºÐ¾Ð¶Ð½Ñ– 500ms:
   {"result":"5 UAH (87%)", ...}

10. Ð•ÐºÑ€Ð°Ð½ Ð¾Ð½Ð¾Ð²Ð»ÑŽÑ”Ñ‚ÑŒÑÑ Ð· Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð¼

================================================================
Ð—ÐÐ›Ð•Ð–ÐÐžÐ¡Ð¢Ð† Ð‘Ð†Ð‘Ð›Ð†ÐžÐ¢Ð•Ðš
================================================================

ÐÐµÐ¾Ð±Ñ…Ñ–Ð´Ð½Ñ– Ð² platformio.ini:
- espressif32 platform
- esp32cam board
- Arduino framework
- esp32-camera library (Ð²Ð¶Ðµ Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð° Ð½Ð° ESP32-CAM)
- Edge Impulse SDK (Ð² lib/Robotics_Practice_inferencing/)

ÐšÐ¾Ð¼Ð¿Ñ–Ð»ÑÑ†Ñ–Ð¹Ð½Ñ– Ñ„Ð»Ð°Ð³Ð¸ Ð´Ð»Ñ PSRAM:
-DBOARD_HAS_PSRAM=1
-mfix-esp32-psram-cache-issue

================================================================
Ð”Ð†ÐÐ“ÐÐžÐ¡Ð¢Ð˜ÐšÐ Ð’ ÐœÐžÐÐ†Ð¢ÐžÐ  Ð¡Ð•Ð Ð†Ð™ÐÐžÐ“Ðž ÐŸÐžÐ Ð¢Ð£
================================================================

ÐŸÑ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÑƒ:
>>> SYSTEM STARTING <<<
PSRAM Available: YES âœ“
PSRAM Size: 2097152 bytes
Free PSRAM: 2097152 bytes
âœ“ Camera initialized
âœ“ WiFi Started...
âœ“ Web server started

ÐŸÑ€Ð¸ Ð½Ð°Ñ‚Ð¸ÑÐ½ÐµÐ½Ð½Ñ– SCAN:
ðŸ” Scanning...
Allocating RGB buffer...
âœ“ RGB buffer allocated in PSRAM
Free PSRAM: 1867776 bytes
Decoding JPEG...
âœ“ Decoding done: 245ms
Running inference...
âœ“ Inference done: 1250ms
âœ“ RGB buffer freed
Free PSRAM: 2097152 bytes  â† ÐŸÐžÐ’Ð•Ð ÐÐ£Ð›ÐžÐ¡Ð¯ Ð”Ðž ÐÐžÐ ÐœÐÐ›Ð¬ÐÐžÐ“Ðž!
âœ“ Result: 5 UAH (87%)

================================================================
ÐÐÐ¡Ð¢Ð£ÐŸÐÐ† ÐšÐ ÐžÐšÐ˜
================================================================

1. Ð—ÐÐ’ÐÐÐ¢ÐÐ–Ð˜Ð¢Ð˜ ÐœÐžÐ”Ð•Ð›Ð¬:
   - ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° https://studio.edgeimpulse.com
   - ÐšÑƒÐ¿Ð¸Ñ‚Ð¸ Ð°Ð±Ð¾ Ð·Ñ–Ð±Ñ€Ð°Ñ‚Ð¸ Ð´Ð°Ñ‚Ð°ÑÐµÑ‚ ÐºÑƒÐ¿ÑŽÑ€
   - Ð¢Ñ€ÐµÐ½Ð¸Ñ€Ð°Ñ‚Ð¸ Ð¼Ð¾Ð´ÐµÐ»Ñ– (Object Detection Ð°Ð±Ð¾ Classification)
   - Ð•ÐºÑÐ¿Ð¾Ñ€Ñ‚ÑƒÐ²Ð°Ñ‚Ð¸ ÑÐº Arduino Library

2. Ð†ÐÐ¢Ð•Ð“Ð Ð£Ð’ÐÐ¢Ð˜ ÐœÐžÐ”Ð•Ð›Ð¬:
   - Ð Ð¾Ð·Ð¿Ð°ÐºÑƒÐ²Ð°Ñ‚Ð¸ Ð² lib/Robotics_Practice_inferencing/
   - ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ð¸Ñ‚Ð¸ model_metadata.h
   - ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ð¸Ñ‚Ð¸ EI_CLASSIFIER_DSP_INPUT_FRAME_SIZE

3. ÐÐÐ›ÐÐ¨Ð¢Ð£Ð’ÐÐ¢Ð˜ HW:
   - ÐŸÑ–Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ð¸ ESP32-CAM Ð´Ð¾ ÐºÐ¾Ð¼Ð¿'ÑŽÑ‚ÐµÑ€Ð°
   - Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ð¸ Ð´Ñ€Ð°Ð¹Ð²ÐµÑ€Ð¸ COM
   - Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ð¸ PlatformIO

4. ÐšÐžÐœÐŸÐ†Ð›Ð®Ð’ÐÐ¢Ð˜:
   pio run -e esp32cam -t upload

5. Ð¢Ð•Ð¡Ð¢Ð£Ð’ÐÐ¢Ð˜:
   - ÐŸÑ–Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ð¸ÑÑŒ Ð´Ð¾ WiFi "UAH_Scanner"
   - Ð’Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ð¸ http://192.168.4.1
   - ÐÐ°Ñ‚Ð¸ÑÐ½ÑƒÑ‚Ð¸ SCAN Ð· Ð¿Ð°Ð¿ÐºÐ¾ÑŽ Ð³Ñ€Ð¾ÑˆÐµÐ¹

================================================================
Ð¢Ð•Ð¡Ð¢Ð£Ð’ÐÐÐÐ¯ ÐŸÐÐœ'Ð¯Ð¢Ð†
================================================================

Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ñ‚ÐµÑÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ Ð²Ð¸Ñ‚Ð¾ÐºÑƒ Ð¿Ð°Ð¼'ÑÑ‚Ñ–:

void loop() {
    Serial.printf("Heap: %d, PSRAM: %d\n", 
                  ESP.getFreeHeap(), 
                  ESP.getFreePsram());
    delay(1000);
}

Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ð¸ ÑÐºÐ°Ð½ÑƒÐ²Ð°Ð½Ð½Ñ 10 Ñ€Ð°Ð·Ñ–Ð² Ð¿Ð¾ÑÐ¿Ñ–Ð»ÑŒ:
- Ð ÐÐÐ†Ð¨Ð•: PSRAM Ð·Ð¼ÐµÐ½ÑˆÑƒÐ²Ð°Ð»Ð°ÑÑŒ Ð· 2MB â†’ 0 (crash)
- Ð¢Ð•ÐŸÐ•Ð : PSRAM Ð·Ð°Ð»Ð¸ÑˆÐ°Ñ”Ñ‚ÑŒÑÑ ÑÑ‚Ð°Ð±Ñ–Ð»ÑŒÐ½Ð¸Ð¼ (2MB)

================================================================
Ð’Ð•Ð Ð¡Ð†Ð¯ Ð¤ÐÐ™Ð›Ð†Ð’
================================================================

main.cpp:
- Ð”Ð¾Ð´Ð°Ð½Ð¾ FreeRTOS Semaphore Ð´Ð»Ñ Ð´ÐµÐ»Ð°
- ÐŸÐ¾ÐºÑ€Ð°Ñ‰ÐµÐ½Ð¾ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ¸ Ñ‚Ð° Ð´Ñ–Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÑƒ
- ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð° Ð¿Ð¾ÑÐ»Ñ–Ð´Ð¾Ð²Ð½Ñ–ÑÑ‚ÑŒ malloc/free

CameraHandler.h:
- Ð—Ð¼ÐµÐ½ÑˆÐµÐ½Ð° ÑÐºÑ–ÑÑ‚ÑŒ JPEG (8â†’10)
- Ð”Ð¾Ð´Ð°Ð½Ð¾ sensor_t ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ñ
- Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð¾ ÐºÐ¾Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ñ–

WebServerHandler.h:
- Ð’Ð¸Ð´Ð°Ð»ÐµÐ½Ð¾ infinite loop Ñƒ stream_handler
- Ð”Ð¾Ð´Ð°Ð½Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ðµ MJPEG Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ÑƒÐ²Ð°Ð½Ð½Ñ
- ÐÐ¾Ð²Ð¸Ð¹ ÐºÑ€Ð°ÑÐ¸Ð²Ð¸Ð¹ HTML/CSS/JS Ñ–Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
- JSON API Ð´Ð»Ñ ÑÑ‚Ð°Ñ‚ÑƒÑÑƒ

InferenceHandler.h:
- ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾: FREE RGB buffer Ð¿Ñ–ÑÐ»Ñ inference
- Ð”Ð¾Ð´Ð°Ð½Ð° Ð¾Ð±Ñ€Ð¾Ð±ÐºÐ° Ð¿Ð¾Ð¼Ð¸Ð»Ð¾Ðº malloc
- Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ð° Ð´Ñ–Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ° Ð² Ð¼Ð¾Ð½Ñ–Ñ‚Ð¾Ñ€

platformio.ini:
- Ð”Ð¾Ð´Ð°Ð½Ð¾ PSRAM Ñ„Ð»Ð°Ð³Ð¸
- ÐžÐ¿Ñ‚Ð¸Ð¼Ñ–Ð·Ð°Ñ†Ñ–Ñ ÐºÐ¾Ð¼Ð¿Ñ–Ð»ÑÑ†Ñ–Ñ— (-O2)
- ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð½Ð°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ Ð±Ð¾Ñ€Ð´Ð¸

================================================================

Ð’Ð˜Ð¡ÐÐžÐ’ÐžÐš:
ÐšÐ¾Ð´ Ð¿Ð¾Ð²Ð½Ñ–ÑÑ‚ÑŽ Ð¿ÐµÑ€ÐµÐ¿Ð¸ÑÐ°Ð½Ð¸Ð¹ Ð´Ð»Ñ Ð¾Ð¿Ñ‚Ð¸Ð¼Ñ–Ð·Ñ†Ñ–Ñ— Ð¿Ð°Ð¼'ÑÑ‚Ñ– Ñ‚Ð° Ð°Ñ€Ñ…Ñ–Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð¸.
ÐžÑÐ½Ð¾Ð²Ð½Ð° Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° - Ð²Ð¸Ñ‚Ñ–Ðº Ð¿Ð°Ð¼ÑÑ‚Ð¸ - Ð¿Ð¾Ð²Ð½Ñ–ÑÑ‚ÑŽ Ð²Ð¸Ñ€Ñ–ÑˆÐµÐ½Ð°.
Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ñ‚ÐµÐ¿ÐµÑ€ ÑÑ‚Ð°Ð»Ð° Ð´Ð»Ñ Ð´Ð¾Ð²Ð³Ð¾Ñ‚Ñ€Ð¸Ð²Ð°Ð»Ð¾Ñ— Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸ Ð±ÐµÐ· Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ñ–Ð².

================================================================
"""
